:root{
  --accent1:#7c6cf0; --accent2:#5b4bdb; --muted:#9aa3b2;
  --glass: rgba(255,255,255,0.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color:#e9eef8;background:linear-gradient(180deg,#060816 0%, #071124 100%);-webkit-font-smoothing:antialiased;
}

/* ENTRY OVERLAY */
.entry-overlay{
  position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center;
  background: linear-gradient(135deg, rgba(11,12,30,1), rgba(25,10,60,1));
  color:#fff; transition: opacity .8s cubic-bezier(.2,.9,.2,1), transform .8s cubic-bezier(.2,.9,.2,1);
}
.entry-overlay.hidden{ opacity:0; transform: scale(1.02); pointer-events:none; }
/* center logo */
.entry-logo{ text-align:center; transform: translateY(-6px); }
.entry-logo .logo-mark{font-weight:800; font-size:36px; background:linear-gradient(90deg,var(--accent2),var(--accent1)); -webkit-background-clip:text;background-clip:text;color:transparent; text-shadow:0 10px 30px rgba(91,75,219,0.12);}
.entry-title{margin-top:8px; font-weight:700; font-size:16px; color: rgba(255,255,255,0.9); opacity:0.95}

/* lightfield */
.lightfield{position:fixed; inset:0; z-index:0; pointer-events:none; background:
  radial-gradient(600px 300px at 10% 20%, rgba(124,108,240,0.12), transparent 8%),
  radial-gradient(500px 250px at 85% 80%, rgba(10,240,255,0.06), transparent 10%),
  linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05)); mix-blend-mode:screen; filter: blur(28px) saturate(120%); animation: lightMove 14s linear infinite; }
@keyframes lightMove {0%{transform:translateY(0)}50%{transform:translateY(-26px)}100%{transform:translateY(0)}}
@media (prefers-reduced-motion: reduce){ .lightfield{ animation:none } .entry-overlay{ transition:none } }

/* invisible initial state for anim elements */
[data-anim]{ opacity:0; transform: translateY(18px) scale(.995); }

/* when body has is-loaded, animate items (JS will set --delay) */
body.is-loaded [data-anim]{
  animation: fadeUp .64s cubic-bezier(.2,.9,.2,1) both;
  animation-delay: var(--delay, 0ms);
}
@keyframes fadeUp {
  0%{ opacity:0; transform: translateY(18px) scale(.995) }
  60%{ opacity:1; transform: translateY(-6px) scale(1.004) }
  100%{ opacity:1; transform: translateY(0) scale(1) }
}

/* NAV & Brand */
.nav{position:sticky; top:0; z-index:60}
.nav-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:18px;position:relative;z-index:60}
.logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent2),var(--accent1));display:flex;align-items:center;justify-content:center;font-weight:800}
.brand-info{display:flex;flex-direction:column}
.brand-name{font-size:clamp(20px,4.5vw,44px);font-weight:800;line-height:1;margin:0;background:linear-gradient(90deg,#fff 0%, #e8dbff 25%, #c6f4ff 60%); -webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 8px 30px rgba(91,75,219,0.12);}
.brand-name::after{ content:''; position:absolute; width:220px; height:80px; left:0; top:24px; pointer-events:none; filter: blur(30px); opacity:0.18; }

/* Hero basics */
.hero{position:relative; max-width:1100px; margin:28px auto; padding:28px 18px; display:grid; grid-template-columns:1fr 460px; gap:28px; align-items:center; z-index:10}
.hero-title{font-family:'Playfair Display',serif; font-size:clamp(28px,4.8vw,48px); margin:12px 0; color:#fff}
.cta{display:inline-block;padding:12px 18px;border-radius:12px;text-decoration:none;color:#fff;font-weight:700;position:relative;overflow:hidden}
.cta.primary{background:linear-gradient(90deg,var(--accent2),var(--accent1)); box-shadow:0 14px 40px rgba(91,75,219,0.12)}
/* sheen stronger */
.cta::after{ content:''; position:absolute; left:-50%; top:-10%; width:40%; height:120%; background:linear-gradient(90deg, rgba(255,255,255,0.28), rgba(255,255,255,0.02)); transform: skewX(-20deg); transition: transform 1s ease; }
.cta:hover::after{ transform: translateX(260%) skewX(-20deg); }

/* glass card with stronger entrance bounce */
.card.glass{ background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.06); backdrop-filter: blur(10px) saturate(130%); padding:0; border-radius:16px; box-shadow: 0 18px 50px rgba(11,15,30,0.12); transition: transform .18s ease;}
/* heroCard entrance bounce (applies after fadeUp) */
#heroCard.body-animated{ animation: heroBounce 800ms cubic-bezier(.2,.9,.2,1) both; animation-delay: 220ms; }
@keyframes heroBounce {
  0%{ opacity:0; transform: translateY(26px) scale(.98) rotateZ(0deg) }
  55%{ opacity:1; transform: translateY(-10px) scale(1.02) rotateZ(-1deg) }
  100%{ transform: translateY(0) scale(1) rotateZ(0) }
}

/* videos */
.videos-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px; margin-top:14px}
.video-card{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; overflow:hidden; box-shadow:0 12px 34px rgba(11,15,30,0.08); cursor:pointer; transform-origin:center; transition: transform .18s ease;}
.video-card:hover{ transform: translateY(-10px) scale(1.01); }

/* mobile adjustments */
@media (max-width:780px){
  .lightfield{ display:none } /* lighter on mobile */
  .nav-inner{ padding:12px }
  .hero{ grid-template-columns:1fr; gap:18px; padding:18px; }
  .hero-right{ order:-1 }
  .mobile-cta{ display:flex; }
}

/* reduced motion fallback */
@media (prefers-reduced-motion: reduce){
  [data-anim]{ opacity:1 !important; transform:none !important; animation:none !important }
  .entry-overlay{ display:none }
  .lightfield{ display:none }
}

/* Prevent any accidental horizontal scroll */
html, body {
  overflow-x: hidden;
}

/* center main content and limit global width */
main {
  max-width: 1100px; /* 主容器寬度，如需更寬改為 1200 */
  margin: 0 auto;
  padding-left: 18px;
  padding-right: 18px;
  box-sizing: border-box;
  position: relative;
  z-index: 10;
}

/* Ensure every section is inside constrained width */
.section {
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 0; /* padding 已由 main 控制 */
  padding-right: 0;
  box-sizing: border-box;
}

/* Make hero right column flexible (prevent fixed huge width) */
.hero {
  grid-template-columns: 1fr minmax(320px, 420px); /* 改為 minmax，避免 overflow */
}

/* Prevent any iframe / img from overflowing their container */
iframe, img, video, .card, .glass {
  max-width: 100%;
  box-sizing: border-box;
}

/* Facebook iframe: cap max width so it doesn't stretch layout */
.fb-wrap iframe {
  width: 100%;
  max-width: 560px; /* facebook plugin 最好限制寬度 */
  margin: 0 auto;
  display: block;
}

/* videos grid should not overflow horizontally */
.videos-grid {
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}

/* make sure card pseudo-elements (like glow) don't push layout wider */
.gradient-glow::after {
  width: 180px !important;   /* 縮小偽元素大小，避免超伸 */
  left: -6px !important;     /* 調整位置，不會超出太多 */
}

/* mobile-cta width constraint */
.mobile-cta {
  left: 0;
  right: 0;
  margin-left: auto;
  margin-right: auto;
  max-width: 1100px;
  padding-left: 12px;
  padding-right: 12px;
}

/* footer center and constrain */
.footer-inner {
  max-width: 1100px;
  margin: 0 auto;
  padding-left: 18px;
  padding-right: 18px;
  box-sizing: border-box;
}

/* a safety: if any element uses fixed width bigger than viewport, cap it */
*[style] { /* 只做額外保險，不改動內嵌 style 以外的 */
  max-width: 100vw;
  box-sizing: border-box;
}

/* make sure any wide shadows / filters do not create scrollbars in some browsers */
.lightfield, .orb-1, .orb-2 {
  will-change: transform;
  pointer-events: none;
}

/* small screens: still keep content padded nicely */
@media (max-width: 780px) {
  main, .section, .videos-grid, .footer-inner { max-width: 100%; padding-left: 16px; padding-right: 16px; }
  .hero { grid-template-columns: 1fr; }
}
/* ----------------- Responsive hero image wrapper ----------------- */
.hero-img-wrapper {
  width: 100%;
  /* 固定長寬比，確保手機/桌機裁切一致；改成 16/9 可視需求調整 */
  aspect-ratio: 16 / 9;
  overflow: hidden;
  border-radius: 12px;
  display: block;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: 0 10px 30px rgba(11,15,30,0.06);
}

.hero-img-wrapper img.hero-img {
  width: 100%;
  height: 100%;
  object-fit: cover;      /* 讓圖被裁切但保持 cover */
  object-position: center;
  display: block;
}

/* Fallback for browsers without aspect-ratio */
@supports not (aspect-ratio: 1 / 1) {
  .hero-img-wrapper { position: relative; padding-bottom: 56.25%; height: 0; }
  .hero-img-wrapper img.hero-img { position: absolute; top:0; left:0; width:100%; height:100%; }
}

/* ----------------- Unified entrance animation ----------------- */
/* base: start hidden / slightly down & small */
[data-anim] {
  opacity: 0;
  transform: translateY(18px) scale(0.995);
  will-change: transform, opacity;
}

/* actual animation (fade-up with subtle pop) */
@keyframes fadeUpPop {
  0% {
    opacity: 0;
    transform: translateY(18px) scale(0.98);
  }
  60% {
    opacity: 1;
    transform: translateY(-8px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* when JS adds .is-loaded, run animation; JS will set --anim-delay per element */
body.is-loaded [data-anim] {
  animation-name: fadeUpPop;
  animation-duration: 660ms;
  animation-timing-function: cubic-bezier(.2,.9,.2,1);
  animation-fill-mode: both;
  animation-delay: var(--anim-delay, 0ms); /* JS sets this */
}

/* emphasize hero title slightly longer duration for presence (optional) */
[data-anim="4"] { animation-duration: 740ms; }

/* small bounce for hero card after its entrance */
#heroCard.body-animated {
  /* additional subtle scale after entrance */
  animation-name: heroCardPop;
  animation-duration: 700ms;
  animation-timing-function: cubic-bezier(.2,.9,.2,1);
  animation-fill-mode: both;
  animation-delay: 260ms;
}
@keyframes heroCardPop {
  0% { opacity: 0; transform: translateY(30px) scale(0.96) rotateZ(0); }
  60% { opacity: 1; transform: translateY(-6px) scale(1.03) rotateZ(-0.6deg); }
  100% { opacity: 1; transform: translateY(0) scale(1) rotateZ(0); }
}

/* respect reduced motion: no animation, show immediately */
@media (prefers-reduced-motion: reduce) {
  [data-anim] { opacity: 1 !important; transform: none !important; animation: none !important; }
  #heroCard.body-animated { animation: none !important; transform: none !important; }
}

/* ----------------- Extra safeguards for images/iframes on mobile ----------------- */
.hero-img-wrapper, .video-card .thumb, iframe, img {
  max-width: 100%;
  box-sizing: border-box;
}

/* mobile tweaks: reduce delay spacing on small screens for snappier feel */
@media (max-width: 780px) {
  body.is-loaded [data-anim] { animation-duration: 420ms; }
}
